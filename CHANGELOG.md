# æ›´æ–°æ—¥å¿—

æœ¬é¡¹ç›®éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ã€‚æ‰€æœ‰é‡è¦å˜æ›´è®°å½•åœ¨æ­¤æ–‡ä»¶ä¸­ã€‚

---

## [æœªå‘å¸ƒ]

### 2026-02-13

#### fix: WebChat å†å²è®°å½•ä¸åœæ­¢æŒ‰é’®

- **å†å²è®°å½•**ï¼šsessionId ä¼˜å…ˆä» URL çš„ `?session=xxx` è¯»å–ï¼Œæ”¶åˆ° session æ—¶å†™å…¥ URLï¼›é¿å…å¤š Tab å…±äº« localStorage æ—¶è¢«è¦†ç›–ï¼Œå¯¼è‡´åˆ·æ–°ååŠ è½½é”™è¯¯ä¼šè¯
- **åœæ­¢æŒ‰é’®**ï¼šchunk / done å¤„ç†å™¨å¢åŠ  `isStreaming` æ£€æŸ¥ï¼Œå¿½ç•¥ stop åè¿Ÿåˆ°çš„ chunkï¼Œé¿å…äº§ç”Ÿå­¤ç«‹æ¶ˆæ¯ï¼›é¿å…é‡å¤å¤„ç† done

#### fix: åˆ·æ–°åå†å²è®°å½•åªæ˜¾ç¤ºç¬¬ä¸€æ¡

- **æ ¹å› **ï¼šå†å²æ¸²æŸ“æ—¶è°ƒç”¨æœªå®šä¹‰çš„ `addCopyButton`ï¼ŒæŠ›å‡º ReferenceError å¯¼è‡´å¾ªç¯ä¸­æ–­
- **åšæ³•**ï¼šç§»é™¤ addCopyButton è°ƒç”¨ï¼ˆfence æ¸²æŸ“å™¨å·²å†…ç½®å¤åˆ¶æŒ‰é’®ï¼‰ï¼›ç”¨ DocumentFragment æ‰¹é‡æ’å…¥ï¼›æ”¶åˆ° history æ—¶å§‹ç»ˆæ¸…ç©ºå†æ¸²æŸ“ï¼›loadHistory ä½¿ç”¨ getAllMessages è·å–å®Œæ•´å†å²ï¼›ws.onopen æ—¶ä» URL é‡è¯» sessionId

#### fix: å·¥å…·è°ƒç”¨åè‡ªç„¶è¯­è¨€æ€»ç»“

- **é—®é¢˜**ï¼šlist_files ç­‰å·¥å…·è°ƒç”¨åï¼Œæ¨¡å‹åªè¾“å‡ºã€Œç”¨ read_file è¯»å–ã€ç­‰å¼•ç”¨è¯´æ˜ï¼Œç¼ºå°‘è‡ªç„¶è¯­è¨€æ€»ç»“
- **åšæ³•**ï¼šä¼˜åŒ–é»˜è®¤ system promptï¼Œå¼•å¯¼æ¨¡å‹åœ¨å·¥å…·è°ƒç”¨åç”¨è‡ªç„¶è¯­è¨€æ€»ç»“ç»“æœå¹¶ç»™å‡ºå»ºè®®ï¼Œä¾‹å¦‚ list_files ååº”ç®€è¦åˆ—å‡ºå…³é”®æ–‡ä»¶å¹¶è¯¢é—®ç”¨æˆ·æƒ³æŸ¥çœ‹å“ªä¸ª

#### docs: ARCHITECTURE.md ç²¾ç®€

- 550 è¡Œ â†’ 74 è¡Œï¼šåˆ é™¤å¤§æ®µ TypeScript æ¥å£ä»£ç ï¼ˆå®ç°æ—¶å†™åœ¨ src/ ä¸­ï¼‰
- ä¿ç•™ï¼šç³»ç»Ÿå…¨æ™¯å›¾ã€æ¨¡å—èŒè´£ã€éƒ¨ç½²æ¨¡å¼ã€æ•°æ®å­˜å‚¨ã€OpenClaw å¯¹æ¯”
- AGENTS.mdï¼šä¿¡æ¯æƒå¨æ¥æºè¡¨æ›´æ–°ã€Œæ¥å£å®šä¹‰åœ¨ä»£ç ä¸­ã€

#### feat: read_file æ ¹ç›®å½•å¯é…ç½®

- **tools.fileBase**ï¼šYAML é…ç½®é¡¹ï¼Œå¯æŒ‡å®š read_file å¯è¯»å–çš„æ ¹ç›®å½•ï¼ˆé»˜è®¤ ~/.crabcrushï¼‰
- **CRABCRUSH_FILE_BASE**ï¼šç¯å¢ƒå˜é‡ä¼˜å…ˆäº YAML
- é”™è¯¯æç¤ºæ˜¾ç¤ºå®é™… base è·¯å¾„ï¼ˆå¦‚ ~/.crabcrush æˆ– ~/Documentsï¼‰
- READMEã€crabcrush.example.yaml è¡¥å……é…ç½®è¯´æ˜

#### docs: è§„åˆ’ä¸æ–‡æ¡£æ›´æ–°

- **ROADMAP**ï¼šPhase 2a ç‰ˆæœ¬èŠ‚å¥ï¼ˆv0.2.0â€“v0.5.0 å¯¹åº”è¡¨ï¼‰ï¼›æŠ€æœ¯å€ºåŠ¡è¡¨ï¼ˆé™æµã€æ—¥å¿—ã€confirmRequiredã€WS è¿æ¥æ•°ï¼‰
- **å¯æ“ä½œé”™è¯¯æ¶ˆæ¯**ï¼šChromium æœªå®‰è£…æ—¶ä¸€é”®å®‰è£…è®¾è®¡ï¼ˆWebChat/é’‰é’‰/é£ä¹¦å…¼å®¹ï¼‰
- **è¿è¡Œæ—¶æƒé™è¯·æ±‚**ï¼šCursor å¼åŠ¨æ€ç¡®è®¤ï¼ˆè®¿é—®æ–°è·¯å¾„ã€å®‰è£…è½¯ä»¶ã€æ‰§è¡Œå‘½ä»¤å‰ä¸»åŠ¨è¯¢é—®ï¼‰
- **DEC-033**ï¼šå…³é”®ä¾èµ–å–èˆï¼ˆbetter-sqlite3ã€Playwrightï¼‰åŠæ›¿ä»£æ–¹æ¡ˆ

### 2026-02-15

#### feat: å†…ç½®å·¥å…· read_fileï¼ˆPhase 2a.3 æ–‡ä»¶æ“ä½œï¼‰

- **read_file**ï¼šè¯»å– ~/.crabcrush ä¸‹çš„æ–‡æœ¬æ–‡ä»¶ï¼ˆ.md/.txt/.json/.yaml ç­‰ï¼‰
- æƒé™ï¼šownerï¼ˆDEC-026ï¼‰ï¼›å®‰å…¨ï¼šè·¯å¾„é™åˆ¶ã€æ‹’ç» .. ç©¿è¶Šã€æ‰©å±•åç™½åå•
- æˆªæ–­ï¼šé»˜è®¤ 8000 å­—ç¬¦ï¼ˆDEC-030ï¼‰ï¼›`CRABCRUSH_FILE_BASE` å¯è¦†ç›–æ ¹ç›®å½•

#### fix: WebChat å‰ç«¯æœ¬åœ°åŒ–ï¼ˆè§£å†³å›½å†… CDN è¶…æ—¶ï¼‰

- **é—®é¢˜**ï¼šä» cdn.jsdelivr.net åŠ è½½ markdown-itã€highlight.js å¸¸è¶…æ—¶ï¼Œå¯¼è‡´ `window.markdownit is not a function`ã€favicon 401
- **åšæ³•**ï¼šå°†ä¸¤åº“é¢„å…ˆæ”¾å…¥ `public/vendor/` å¹¶æäº¤ï¼Œé¡µé¢ä¼˜å…ˆåŠ è½½æœ¬åœ°æ–‡ä»¶ï¼Œä¸ä¾èµ–å¤–ç½‘
- **Gateway**ï¼š`/favicon.ico`ã€`/vendor/*` ä¸å†è¦æ±‚ tokenï¼Œé¿å…é™æ€èµ„æº 401
- **scripts/copy-vendor.js**ï¼šä»…ç»´æŠ¤è€…ä½¿ç”¨ï¼Œä»å¤š CDN æ‹‰å–ä»¥åˆ·æ–° vendorï¼ˆæ”¹ URL ç‰ˆæœ¬å·åæ‰§è¡Œå¹¶æäº¤ï¼‰ï¼›æ™®é€šç”¨æˆ·æ— éœ€è¿è¡Œ
- **package.json**ï¼šç§»é™¤ markdown-itã€highlight.js ä¾èµ–ï¼ˆè¿è¡Œæ—¶åªç”¨ public/vendor/ï¼‰
- **README**ï¼šè¯´æ˜å‰ç«¯åº“å·²éšä»“åº“æä¾›ï¼Œå…‹éš†å³ç”¨

#### docs: OpenClaw åˆ†æä¸äººæ ¼åŒ–å¼•ç”¨

- æ–°å¢ `docs/OPENCLAW_ANALYSIS.md`ï¼šè§„åˆ™/è®°å¿†/äººæ ¼åŒ–/Token ç­–ç•¥ä¸å€Ÿé‰´å»ºè®®
- **AGENTS.md / ROADMAP 2a.5**ï¼šäººæ ¼åŒ–ä¸å·¥ä½œåŒºå®ç°å‚è€ƒè¯¥æ–‡æ¡£
- **README**ï¼šå‚ä¸å¼€å‘æˆ– AI ååŠ©æ—¶è¯·å…ˆè¯» AGENTS.mdã€DECISIONS.md

### 2026-02-14

#### docs: äººæ ¼åŒ–ä¸å·¥ä½œåŒºè§„åˆ’ï¼ˆå€Ÿé‰´ OpenClawï¼‰

- **DEC-032**ï¼šè§„åˆ’å·¥ä½œåŒºï¼ˆIDENTITY.mdã€USER.mdã€SOUL.mdï¼‰+ Bootstrap é¦–æ¬¡å¯¹è¯
- **ROADMAP 2a.5**ï¼šAI æœ‰åå­—ã€çŸ¥é“å¦‚ä½•ç§°å‘¼ç”¨æˆ·ã€å¯é…ç½®è¯­æ°”ï¼Œé¦–æ¬¡å¯¹è¯ä¸»åŠ¨è¯¢é—®å¹¶æŒä¹…åŒ–
- å‚è€ƒï¼šOpenClaw çš„ SOUL/IDENTITY/USER æ–‡ä»¶æ³¨å…¥ + BOOTSTRAP.md é‡‡è®¿è„šæœ¬

#### docs: é’‰é’‰ Block Streaming è§„åˆ’ï¼ˆå€Ÿé‰´ OpenClawï¼‰

- **DEC-031**ï¼šè§„åˆ’å¼•å…¥ Block Streamingï¼Œé’‰é’‰/é£ä¹¦ç­‰æ¸ é“æŒ‰å—åˆ†ç‰‡å‘é€ï¼Œè¾¹ç”Ÿæˆè¾¹å‘
- **ROADMAP**ï¼šPhase 1.1 æ–°å¢é’‰é’‰ Block Streaming å¾…åŠï¼Œé£ä¹¦æ¥å…¥æ—¶ä¸€å¹¶æŠ½è±¡ä¸ºæ¸ é“é€šç”¨èƒ½åŠ›
- å‚è€ƒï¼šOpenClaw `blockStreamingChunk`ã€`blockStreamingCoalesce`ã€`textChunkLimit`

#### fix: é’‰é’‰æ¸ é“ä½“éªŒä¼˜åŒ–

- **å…ˆå‘ã€Œæ­£åœ¨æ€è€ƒâ€¦ã€**ï¼šæ— æµå¼æ—¶å…ˆç»™ç”¨æˆ·å³æ—¶åé¦ˆï¼Œå†å‘æœ€ç»ˆå›å¤
- **æ¶ˆæ¯æˆªæ–­**ï¼šæŒ‰é’‰é’‰ API é™åˆ¶ï¼ˆtext 2000 / markdown 4000 å­—ç¬¦ï¼‰æˆªæ–­ï¼Œè¶…é•¿åŠ ã€Œå†…å®¹å·²æˆªæ–­ã€æç¤ºï¼Œé¿å…å‘é€å¤±è´¥å¯¼è‡´æ— åº”ç­”
- **å·¥å…·è°ƒç”¨æç¤º**ï¼šå›å¤ä¸­é™„å¸¦ã€ŒğŸ”§ å·²è°ƒç”¨ï¼šsearch_webã€browse_urlã€ç­‰ï¼Œä¸ WebChat ä½“éªŒä¸€è‡´

#### chore: è§„åˆ’ä¸ä½“éªŒä¼˜åŒ–

- **ROADMAP**ï¼šæ ‡æ³¨ Phase 2a é‡Œç¨‹ç¢‘è¾¾æˆï¼ˆsearch_web å·²å®ç°ï¼‰
- **crabcrush doctor**ï¼šæ–°å¢ Playwright Chromium æ£€æµ‹ï¼Œæœªå®‰è£…æ—¶æç¤º `npx playwright install chromium`
- **README**ï¼šå¿«é€Ÿå¼€å§‹ä¸­è¡¥å…… Playwright å¯é€‰å®‰è£…è¯´æ˜
- **ARCHITECTURE**ï¼šæ ‡æ³¨å½“å‰å®ç°ä¸ºç®€åŒ–ç‰ˆï¼Œç›®æ ‡æ¶æ„å¯é€æ­¥æ¼”è¿›

#### feat: å†…ç½®å·¥å…· browse_url + search_webï¼ˆPhase 2a.3 æµè§ˆå™¨æ§åˆ¶ï¼‰

AI å¯ä»¥æŠ“å–ç½‘é¡µå†…å®¹ã€æœç´¢ç½‘ç»œï¼Œå›ç­”ã€Œè¿™ä¸ªé“¾æ¥è®²äº†ä»€ä¹ˆã€ã€Œå¸®æˆ‘æœä¸€ä¸‹ XXã€ç­‰é—®é¢˜ã€‚

- **browse_url**ï¼šæ‰“å¼€ URLï¼Œæå–æ ‡é¢˜å’Œæ­£æ–‡ï¼Œè¿”å›ç»™æ¨¡å‹ï¼ˆé»˜è®¤æˆªæ–­ 8000 å­—ç¬¦ï¼‰
- **search_web**ï¼šæ™ºèƒ½å¤šå¼•æ“æœç´¢ï¼ˆGoogle â†’ Bing â†’ ç™¾åº¦ï¼‰ï¼Œæœ‰ä»£ç†æ—¶ä¼˜å…ˆ Googleï¼›`CRABCRUSH_SEARCH_ENGINE=google|bing|baidu` å¯å¼ºåˆ¶æŒ‡å®š
- æƒé™ï¼šownerï¼ˆæ“ä½œæœ¬åœ°æµè§ˆå™¨ï¼ŒDEC-026ï¼‰
- ä¾èµ–ï¼šPlaywright + Chromiumï¼Œé¦–æ¬¡ä½¿ç”¨éœ€æ‰§è¡Œ `npx playwright install chromium`
- è¶…æ—¶ï¼š15 ç§’

#### fix: æ–‡æ¡£åŒæ­¥ + senderId ä¼ é€’ï¼ˆæŸ¥ç¼ºè¡¥æ¼ï¼‰

- **AGENTS.md**ï¼šæ›´æ–°å½“å‰é˜¶æ®µï¼ˆPhase 2a å·²å®Œæˆé¡¹ï¼‰ã€ä¸‹ä¸€æ­¥ã€ç›®å½•ç»“æ„ï¼ˆå« storage/tools/cli/router/pricingï¼‰
- **ROADMAP.md**ï¼šå‹¾é€‰å·²å®ç°é¡¹ï¼ˆToken è®¤è¯ã€SQLiteã€æ»‘åŠ¨çª—å£ã€Function Callingã€Owner è®¤è¯ï¼‰
- **senderId ä¼ é€’**ï¼šChatHandler å¢åŠ ç¬¬ 4 å‚æ•° senderIdï¼›é’‰é’‰ä¼  `senderStaffId`ï¼›WebChat ä¼  `sessionId`ï¼›`isOwner` é€»è¾‘ä¿®æ­£ï¼ˆæœªé…ç½® ownerIds æ—¶é»˜è®¤æ‰€æœ‰äººæ˜¯ ownerï¼‰
- **DEC-023 / DEC-024**ï¼šæ³¨æ˜å½“å‰å®ç°çŠ¶æ€ï¼ˆtsc / Fastify å†…ç½® loggerï¼‰
- **REVIEW-2026-02.md**ï¼šè¡¥å……ä¿®å¤è®°å½•

#### feat: Function Calling + å·¥å…·ç³»ç»Ÿï¼ˆPhase 2a.2ï¼‰

CrabCrush ä»"èƒ½èŠå¤©"è¿›åŒ–åˆ°"èƒ½å¹²æ´»"ã€‚

- **å·¥å…·ç±»å‹ç³»ç»Ÿ**ï¼ˆ`src/tools/types.ts`ï¼‰ï¼šåŸºäº OpenAI Function Calling æ ‡å‡†æ ¼å¼ï¼ˆDEC-029ï¼‰
- **å·¥å…·æ³¨å†Œä¸­å¿ƒ**ï¼ˆ`src/tools/registry.ts`ï¼‰ï¼šæ³¨å†Œã€æŸ¥æ‰¾ã€æƒé™è¿‡æ»¤ã€å®‰å…¨æ‰§è¡Œ
- **æ¨¡å‹å±‚æ”¹é€ **ï¼ˆ`src/models/provider.ts`ï¼‰ï¼šæ”¯æŒ `tools` å‚æ•°å’Œ `tool_calls` æµå¼å“åº”è§£æ
- **Agent å·¥å…·æ‰§è¡Œå¾ªç¯**ï¼šæ¨¡å‹è¯·æ±‚å·¥å…· â†’ æ‰§è¡Œ â†’ è¿”å›ç»“æœ â†’ æ¨¡å‹ç»§ç»­å›å¤ï¼ˆæœ€å¤š 5 è½®ï¼‰
- **Owner è®¤è¯**ï¼ˆDEC-026ï¼‰ï¼š`ownerIds` é…ç½®ï¼Œæœªé…ç½®æ—¶é»˜è®¤æ‰€æœ‰äººæ˜¯ ownerï¼ˆä¸ªäººä½¿ç”¨ï¼‰ï¼Œé…ç½®åä»… owner å¯è§¦å‘æœ¬åœ°æ“ä½œç±»å·¥å…·
- **å†…ç½®å·¥å…· `get_current_time`**ï¼šè®© AI çŸ¥é“å½“å‰æ—¶é—´ï¼ˆpublic æƒé™ï¼ŒéªŒè¯ç«¯åˆ°ç«¯æµç¨‹ï¼‰
- **WebChat å·¥å…·è°ƒç”¨ UI**ï¼šç´«è‰²å¡ç‰‡å±•ç¤ºè°ƒç”¨è¿‡ç¨‹ï¼ˆå·¥å…·åã€å‚æ•°ã€ç»“æœï¼‰
- æ–°å¢ 11 ä¸ªå·¥å…·ç³»ç»Ÿæµ‹è¯•ï¼ˆæ€»è®¡ 44 ä¸ªï¼‰

#### feat: SQLite å¯¹è¯æŒä¹…åŒ– + æ»‘åŠ¨çª—å£ï¼ˆPhase 2a.1ï¼‰

å¯¹è¯å†å²ä¸å†é‡å¯å³ä¸¢ï¼Œå…‘ç°"æœ¬åœ°ä¼˜å…ˆ"æ‰¿è¯ºã€‚

- **SQLite å­˜å‚¨å±‚**ï¼ˆ`src/storage/database.ts`ï¼‰ï¼šconversations + messages è¡¨ï¼ŒWAL æ¨¡å¼ï¼Œé›¶é…ç½®è‡ªåŠ¨åˆ›å»º `~/.crabcrush/data/conversations.db`
- **æ»‘åŠ¨çª—å£**ï¼šAPI åªå‘æœ€è¿‘ N æ¡æ¶ˆæ¯ï¼ˆé»˜è®¤ 40 æ¡ = 20 è½®ï¼‰ï¼Œå¯é€šè¿‡ `agent.contextWindow` é…ç½®è°ƒæ•´
- **WebChat å†å²åŠ è½½**ï¼šé‡è¿åè‡ªåŠ¨åŠ è½½å†å²æ¶ˆæ¯ï¼Œæ”¯æŒæ–­çº¿æ¢å¤
- æ–°å¢ 9 ä¸ªå­˜å‚¨å±‚å•å…ƒæµ‹è¯•ï¼ˆæ€»è®¡ 33 ä¸ªï¼‰
- æ–°å¢ä¾èµ–ï¼š`better-sqlite3`

#### feat: WebChat Token è®¤è¯ï¼ˆPhase 2a.0 å¿«é€Ÿèƒœåˆ©ï¼‰

WebChat ç°åœ¨éœ€è¦è®¿é—®ä»¤ç‰Œï¼Œè§£å†³"ä»»ä½•äººçŸ¥é“ IP+ç«¯å£å°±èƒ½ä½¿ç”¨"çš„å®‰å…¨éšæ‚£ã€‚

- é…ç½® `auth.token` å¯è®¾ç½®å›ºå®šä»¤ç‰Œï¼Œä¸è®¾åˆ™æ¯æ¬¡å¯åŠ¨è‡ªåŠ¨ç”Ÿæˆ
- WebSocket è¿æ¥å’Œé™æ€é¡µé¢å‡éœ€ `?token=xxx` å‚æ•°
- `/health` ç«¯ç‚¹ä¿æŒå…¬å¼€ï¼ˆç›‘æ§ç”¨ï¼‰
- æ— ä»¤ç‰Œè®¿é—®æ—¶æ˜¾ç¤ºå‹å¥½çš„æç¤ºé¡µé¢
- æ§åˆ¶å°å¯åŠ¨æ—¶æ‰“å°å®Œæ•´çš„å¸¦ token URL

#### docs: æ•°æ®å®‰å…¨è¾¹ç•Œ + Skills ç­–ç•¥ + é˜¿é‡Œäº‘ OpenClaw å¯¹æ¯”

4 ä¸ªæ ¸å¿ƒé—®é¢˜çš„åˆ†æå’Œæ–‡æ¡£åŒ–ï¼šæ¸ é“èƒ½åŠ›ä¸€è‡´æ€§ã€Skills å…¼å®¹æ€§ã€æ•°æ®åº“æ“ä½œã€æ•°æ®å®‰å…¨ã€‚

- **DEC-028**ï¼šæ˜ç¡®"æœ¬åœ°ä¼˜å…ˆ"çš„çœŸå®è¾¹ç•Œâ€”â€”æ•°æ®å­˜å‚¨å’Œå·¥å…·æ‰§è¡Œåœ¨æœ¬åœ°ï¼Œä½†å¯¹è¯å†…å®¹ç»è¿‡æ¨¡å‹ APIï¼›å®šä¹‰äº”é“å®‰å…¨é˜²çº¿
- **DEC-029**ï¼šSkills ç­–ç•¥â€”â€”å·¥å…·å®šä¹‰ç”¨ OpenAI Function Calling æ ‡å‡†ï¼ŒæŠ€èƒ½æ‰“åŒ…ç”¨è‡ªæœ‰æ ¼å¼ï¼Œè€ƒè™‘ MCP å…¼å®¹
- **ROADMAP.md**ï¼šPhase 2a æ–°å¢ WebChat Token è®¤è¯ã€API ç¼“å­˜ï¼ˆå¿«é€Ÿèƒœåˆ©ï¼‰ã€æ•°æ®åº“æŸ¥è¯¢å·¥å…·ã€Skills CLI å‘½ä»¤
- **README.md**ï¼šæ–°å¢è¯šå®çš„æ•°æ®éšç§è¯´æ˜ï¼ˆDEC-028 å¼•ç”¨ï¼‰
- **VISION.md**ï¼šè¡¥å……é˜¿é‡Œäº‘ç”Ÿäº§ç¯å¢ƒ OpenClaw çš„æ´å¯Ÿï¼ˆéªŒè¯ DEC-027ã€Stream æ¨¡å¼ä¼˜åŠ¿ï¼‰

---

## [0.1.0] â€” 2026-02-13 (V1 Release)

CrabCrush V1 æ­£å¼å‘å¸ƒã€‚æ ¸å¿ƒèƒ½åŠ›ï¼šWebChat + é’‰é’‰åŒæ¸ é“çº¯å¯¹è¯ï¼ŒDeepSeek + é€šä¹‰åƒé—®åŒæ¨¡å‹ï¼Œæµå¼è¾“å‡ºã€‚

### æ ¸å¿ƒåŠŸèƒ½
- **WebChat**ï¼šæµè§ˆå™¨èŠå¤©ç•Œé¢ï¼ŒMarkdown æ¸²æŸ“ + ä»£ç é«˜äº® + ä¸€é”®å¤åˆ¶ + åœæ­¢ç”Ÿæˆ
- **é’‰é’‰æ¸ é“**ï¼šStream æ¨¡å¼ï¼ˆä¸éœ€è¦å…¬ç½‘ IPï¼‰ï¼Œ@æœºå™¨äººæ”¶å‘æ¶ˆæ¯ï¼ŒMarkdown å¡ç‰‡ï¼ŒæŒ‰ç”¨æˆ·éš”ç¦»ä¼šè¯
- **æ¨¡å‹é€‚é…**ï¼šOpenAI å…¼å®¹é€‚é…å™¨ï¼Œæ”¯æŒ DeepSeek / é€šä¹‰åƒé—® / Kimi / GLM / è±†åŒ…
- **æ¨¡å‹è·¯ç”±**ï¼šè‡ªåŠ¨åŒ¹é…æä¾›å•† + æ˜¾å¼ `providerId/modelName` æ ¼å¼
- **æ¨¡å‹ Failover**ï¼šä¸»æ¨¡å‹å¤±è´¥è‡ªåŠ¨åˆ‡æ¢å¤‡é€‰
- **è´¹ç”¨ä¼°ç®—**ï¼šå¯¹è¯åæ˜¾ç¤ºæ¨¡å‹å + token ç”¨é‡ + ä¼°ç®—è´¹ç”¨ï¼ˆÂ¥ï¼‰
- **CLI**ï¼š`crabcrush start`ï¼ˆå¯åŠ¨ï¼‰ã€`crabcrush onboard`ï¼ˆå‘å¯¼é…ç½®ï¼‰ã€`crabcrush doctor`ï¼ˆè‡ªæ£€è¯Šæ–­ï¼‰
- **é…ç½®**ï¼šYAML + ç¯å¢ƒå˜é‡ + Zod æ ¡éªŒï¼Œå·²çŸ¥æä¾›å•† baseURL è‡ªåŠ¨è¡¥å…¨

### å·¥ç¨‹
- TypeScript strict + Fastify v5 + Commander.js + Vitest
- ESLint flat config + GitHub Actions CIï¼ˆNode 20 + 22ï¼‰
- 24 ä¸ªå•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡

### æ–‡æ¡£
- 21 æ¡å†³ç­–è®°å½•ï¼ˆDEC-001 ~ DEC-027ï¼‰
- é’‰é’‰æœºå™¨äººæ¥å…¥æŒ‡å—ï¼ˆguide/dingtalk-setup.mdï¼‰
- OpenClaw æ·±åº¦å¯¹æ¯”åˆ†æ + Phase 2 ç­–ç•¥ï¼ˆDEC-027ï¼šå·¥å…·ä¼˜å…ˆäºæ–°æ¸ é“ï¼‰
- README "ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨ ChatGPT" å¯¹æ¯”è¡¨

---

## å¼€å‘è¿‡ç¨‹è®°å½•

### 2026-02-13

#### docs: æ–‡æ¡£æ•´åˆ + "ä¸ºä»€ä¹ˆä¸ç”¨ ChatGPT" + æœ¬åœ°æŒä¹…åŒ–è§„åˆ’

æ–‡æ¡£ä½“ç³»ä¼˜åŒ–ï¼šå‡å°‘æ–‡ä»¶æ•°é‡ï¼Œè¡¥å……æ ¸å¿ƒä»·å€¼ä¸»å¼ ï¼Œè§„åˆ’æ•°æ®æŒä¹…åŒ–ã€‚

- **README.md**ï¼šæ–°å¢"ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨ ChatGPTï¼Ÿ"å¯¹æ¯”è¡¨ï¼ˆè´¹ç”¨ã€éšç§ã€å…¥å£ã€å®šåˆ¶ã€å·¥å…·èƒ½åŠ›ï¼‰ï¼Œè§£é‡Š"æœ¬åœ°ä¼˜å…ˆ"çš„çœŸæ­£å«ä¹‰
- **ROADMAP.md**ï¼šPhase 2a æ–°å¢ 2a.1"æœ¬åœ°å¯¹è¯æŒä¹…åŒ–"ï¼ˆSQLite å­˜å‚¨ã€å†å²æ¢å¤ã€æœç´¢ã€å¯¼å‡ºï¼‰ï¼Œè§£å†³å½“å‰ä¼šè¯ä»…åœ¨å†…å­˜ä¸­çš„é—®é¢˜
- **ARCHITECTURE.md**ï¼šåˆå¹¶ `DEPLOYMENT_MODES.md` ä¸ºç¬¬äº”ç« "éƒ¨ç½²æ¨¡å¼"ï¼Œæ–‡ä»¶æ•°ä» 5 å‡åˆ° 4
- **VISION.md**ï¼š3.3-3.5 è¿œæœŸèƒ½åŠ›ï¼ˆå·¥å…·/è¯­éŸ³/å®‰å…¨è¯¦ç»†è¡¨æ ¼ï¼‰ç²¾ç®€ä¸ºä¸€æ®µæ‘˜è¦ + ROADMAP å¼•ç”¨
- **AGENTS.md**ï¼šæ›´æ–°ç›®å½•ç»“æ„å’Œæ–‡æ¡£ä½“ç³»è¡¨ï¼ˆç§»é™¤ DEPLOYMENT_MODES.mdï¼‰
- åˆ é™¤ `docs/DEPLOYMENT_MODES.md`ï¼ˆå†…å®¹å·²åˆå¹¶ï¼‰

#### docs: OpenClaw æ·±åº¦å¯¹æ¯” + Phase 2 ç­–ç•¥è°ƒæ•´

ä¸å‚è€ƒé¡¹ç›® OpenClaw è¿›è¡Œå…¨é¢å¯¹æ¯”åˆ†æï¼Œæç‚¼æ ¸å¿ƒæ´å¯Ÿå¹¶æ›´æ–°æ–‡æ¡£ã€‚

- **VISION.md**ï¼šè¡¥å…… OpenClaw ç—›ç‚¹å¯¹æ¯”è¡¨ï¼ˆæˆæœ¬é«˜ 50-100 å€ã€éƒ¨ç½²å¤æ‚ã€éœ€è¦å…¬ç½‘ IPï¼‰ï¼Œæ˜ç¡®"ä¸åº”è¯¥å­¦çš„"ï¼ˆåŸç”Ÿ Appã€å¤§è€Œå…¨ï¼‰ï¼Œæ›´æ–°"å€Ÿé‰´ vs è‡ªç ”"è¡¨æ ¼å¢åŠ çŠ¶æ€åˆ—
- **ROADMAP.md**ï¼šPhase 2a é‡æ„â€”â€”ä»"å·¥å…·è°ƒç”¨ä¸é£ä¹¦æ¥å…¥"æ”¹ä¸º"å·¥å…·è°ƒç”¨ï¼ˆè®© CrabCrush èƒ½å¹²æ´»ï¼‰"ï¼Œä¼˜å…ˆçº§è°ƒæ•´ä¸ºï¼šFunction Calling > æµè§ˆå™¨æ§åˆ¶ > Skills æ¡†æ¶ > é£ä¹¦æ¸ é“
- **DECISIONS.md**ï¼šæ–°å¢ DEC-027ï¼ˆPhase 2 ç­–ç•¥ï¼šå·¥å…·èƒ½åŠ›ä¼˜å…ˆäºæ–°æ¸ é“ï¼‰
- **AGENTS.md**ï¼šå†³ç­–æ•°æ›´æ–°è‡³ 21 æ¡ï¼Œè®°å½•å¯¹æ¯”åˆ†æå®Œæˆ

#### chore: ESLint + GitHub Actions CI

V1 å‘å¸ƒå‰çš„å·¥ç¨‹åŸºå»ºã€‚

- **ESLint**ï¼šflat configï¼ˆESLint 9 + @typescript-eslintï¼‰ï¼Œ`pnpm lint` é›¶é”™è¯¯
- **GitHub Actions CI**ï¼špush/PR åˆ° main è‡ªåŠ¨è·‘ lint â†’ build â†’ testï¼Œè¦†ç›– Node 20 + 22
- æ–°å¢ `pnpm lint` script

#### feat: CLI tools - crabcrush onboard + doctor

æ–°ç”¨æˆ·å¼•å¯¼å’Œè‡ªæ£€è¯Šæ–­ã€‚

- **`crabcrush onboard`** â€” å‘å¯¼å¼é…ç½®ï¼š
  - äº¤äº’å¼é€‰æ‹©æ¨¡å‹æä¾›å•†ï¼ˆDeepSeek / é€šä¹‰åƒé—® / Kimi / GLM / è±†åŒ…ï¼‰
  - è¾“å…¥ API Keyï¼ˆé™„å¸¦å„å¹³å°è·å–é“¾æ¥ï¼‰
  - é€‰æ‹©æ¨¡å‹ï¼ˆæä¾›é»˜è®¤å€¼ï¼‰
  - å¯é€‰é…ç½®é’‰é’‰æœºå™¨äºº
  - è‡ªåŠ¨ç”Ÿæˆ `crabcrush.yaml`
- **`crabcrush doctor`** â€” è‡ªæ£€è¯Šæ–­ï¼š
  - Node.js ç‰ˆæœ¬æ£€æŸ¥ï¼ˆ>= 20ï¼‰
  - é…ç½®æ–‡ä»¶æ£€æµ‹ï¼ˆYAML æ–‡ä»¶ / ç¯å¢ƒå˜é‡ï¼‰
  - æ¨¡å‹é…ç½®æ ¡éªŒï¼ˆAPI Key é¢„è§ˆï¼‰
  - API è¿é€šæ€§æµ‹è¯•ï¼ˆ10s è¶…æ—¶ï¼ŒåŒºåˆ† 401 / ç½‘ç»œé”™è¯¯ï¼‰
  - æ¸ é“çŠ¶æ€æ±‡æ€»
  - æ‰€æœ‰æ£€æŸ¥é€šè¿‡ / æœ‰é—®é¢˜çš„æ¸…æ™°åé¦ˆ

#### feat: model router, failover, cost estimation

æ™ºèƒ½æ¨¡å‹è·¯ç”± + è‡ªåŠ¨ Failover + è´¹ç”¨ä¼°ç®—ã€‚

- **æ¨¡å‹è·¯ç”±å™¨**ï¼ˆ`src/models/router.ts`ï¼‰ï¼š
  - `agent.model` è‡ªåŠ¨åŒ¹é…æ­£ç¡®çš„æä¾›å•†ï¼ˆ`qwen-max` â†’ qwenï¼Œ`deepseek-chat` â†’ deepseekï¼‰
  - æ”¯æŒæ˜¾å¼æ ¼å¼ `providerId/modelName`ï¼ˆå¦‚ `qwen/qwen-max`ï¼‰
  - ä¿®å¤åŒæ—¶é…å¤šä¸ªæä¾›å•†æ—¶è¯·æ±‚å‘é”™ API çš„é—®é¢˜
- **Model Failover**ï¼š
  - æ–°å¢ `agent.fallbackModels` é…ç½®
  - ä¸»æ¨¡å‹ 5xx / è¶…æ—¶ / ç½‘ç»œé”™è¯¯æ—¶è‡ªåŠ¨åˆ‡æ¢å¤‡é€‰æ¨¡å‹ï¼Œç”¨æˆ·æ— æ„ŸçŸ¥
  - 4xx é”™è¯¯ï¼ˆAPI Key / ä½™é¢é—®é¢˜ï¼‰ä¸è§¦å‘ Failover
  - å¯åŠ¨æ—¥å¿—æ˜¾ç¤ºå®Œæ•´ Failover é“¾
- **è´¹ç”¨ä¼°ç®—**ï¼ˆ`src/models/pricing.ts`ï¼‰ï¼š
  - å†…ç½® DeepSeek / é€šä¹‰åƒé—® / Kimi / GLM ä¸»è¦æ¨¡å‹å®šä»·
  - WebChat æ¯æ¬¡å¯¹è¯åæ˜¾ç¤ºï¼šæ¨¡å‹å | token ç”¨é‡ | ä¼°ç®—è´¹ç”¨
  - ä¿®å¤ WebChat åœ¨ usage ä¸ºç©ºæ—¶ä¸æ˜¾ç¤ºæ¨¡å‹åçš„ bug
- æ‰€æœ‰å·²é…ç½®çš„æä¾›å•†ç»Ÿä¸€åˆå§‹åŒ–ï¼Œä¸å†åªç”¨ç¬¬ä¸€ä¸ª
- æ–°å¢ 12 ä¸ªæµ‹è¯•ï¼ˆModelRouter 8 ä¸ª + è´¹ç”¨ä¼°ç®— 3 ä¸ª + åŸæœ‰ 1 ä¸ªï¼‰ï¼Œå…± 24 ä¸ª

#### chore: review, bug fixes, docs update

é¡¹ç›®å…¨é¢å®¡æŸ¥ + ä¿®å¤ + æ–‡æ¡£åŒæ­¥ã€‚

- **Bug ä¿®å¤ï¼š**
  - `dingtalk.ts`ï¼š`stop()` åæ¶ˆæ¯åˆ°è¾¾ä¸å†å´©æºƒï¼ˆæ·»åŠ  null guardï¼‰
  - `dingtalk.ts`ï¼šçŸ­æ¶ˆæ¯æ—¥å¿—ä¸å†å¤šä½™è¿½åŠ  `...`
  - `config/loader.ts`ï¼šç”¨æˆ·æŒ‡å®š `-c` ä¸å­˜åœ¨çš„è·¯å¾„æ—¶æŠ¥é”™ï¼Œè€Œéé™é»˜å¿½ç•¥
- **æ–‡æ¡£åŒæ­¥ï¼š**
  - `AGENTS.md`ï¼šå½“å‰é˜¶æ®µä» Phase 0.3 æ›´æ–°åˆ° Phase 1ï¼ŒæŠ€æœ¯æ ˆæ”¹ä¸ºå®é™…å€¼ï¼Œç›®å½•ç»“æ„æ”¹ä¸ºå®é™…ç»“æ„
  - `ROADMAP.md`ï¼šPhase 0.2 / 0.3 / 1.1 å·²å®Œæˆé¡¹æ ‡è®°ä¸º `[x]`
  - `README.md`ï¼šç²¾ç®€é’‰é’‰æ•™ç¨‹ä¸ºé“¾æ¥ï¼Œæ›´æ–°å¯¼èˆªæ 
- **æ–°å¢ï¼š**
  - `CHANGELOG.md`ï¼šæ›´æ–°æ—¥å¿—
  - `guide/dingtalk-setup.md`ï¼šé’‰é’‰æœºå™¨äººæ¥å…¥å®Œæ•´æŒ‡å—ï¼ˆå« FAQï¼‰
- **æµ‹è¯•ï¼š** æ–°å¢é…ç½®è·¯å¾„æ ¡éªŒæµ‹è¯•ï¼Œ13/13 å…¨éƒ¨é€šè¿‡

#### feat: Phase 1 - DingTalk Stream adapter + channel abstraction (`fc4c137`)

é’‰é’‰æ¸ é“æ¥å…¥ï¼Œç¬¬ä¸€ä¸ªå¤–éƒ¨æ¸ é“ã€‚

- æ–°å¢ `ChannelAdapter` æ¥å£ï¼ˆ`src/channels/types.ts`ï¼‰ï¼Œç»Ÿä¸€æ¸ é“æŠ½è±¡
- æ–°å¢é’‰é’‰ Stream é€‚é…å™¨ï¼ˆ`src/channels/dingtalk.ts`ï¼‰
  - é€šè¿‡ `dingtalk-stream` SDK é•¿è¿æ¥ï¼Œä¸éœ€è¦å…¬ç½‘ IP
  - æ”¶åˆ° @æœºå™¨äºº æ¶ˆæ¯åè°ƒç”¨ Agentï¼Œé€šè¿‡ sessionWebhook å›å¤
  - æŒ‰ `senderStaffId` éš”ç¦»ä¼šè¯ï¼ŒåŒç¾¤ä¸åŒäººç‹¬ç«‹ä¸Šä¸‹æ–‡
  - è‡ªåŠ¨æ£€æµ‹ Markdown ç‰¹å¾ï¼Œé•¿æ–‡æœ¬ç”¨ Markdown æ ¼å¼å›å¤
- é…ç½®ç³»ç»Ÿæ”¯æŒé’‰é’‰ï¼ˆ`channels.dingtalk` + ç¯å¢ƒå˜é‡ `CRABCRUSH_DINGTALK_*`ï¼‰
- CLI å¯åŠ¨æ—¶è‡ªåŠ¨è¿æ¥é’‰é’‰ï¼ˆå¦‚å·²é…ç½®ï¼‰
- æ–°å¢æ¸ é“ç›¸å…³æµ‹è¯•ï¼ˆ`test/channels.test.ts`ï¼‰

#### chore: add ws dev dependency (`37b47db`)

- æ·»åŠ  `ws` + `@types/ws` ä¸º dev ä¾èµ–ï¼Œç”¨äº WebSocket E2E æµ‹è¯•

#### docs: update progress to Phase 0.3 MVP (`ee172c5`)

- æ›´æ–° `AGENTS.md` å½“å‰é˜¶æ®µä¸º Phase 0.3 MVP

#### feat: complete Phase 0.3 MVP features (`11db27b`)

WebChat å’Œæ ¸å¿ƒå¼•æ“çš„å®Œå–„ï¼Œä»"èƒ½è·‘"åˆ°"å¥½ç”¨"ã€‚

- WebSocket æ”¯æŒ `stop` æ¶ˆæ¯ + `AbortController` ä¸­æ–­ç”Ÿæˆ
- WebSocket ping/pong ä¿æ´» + ä¼˜é›…å…³é—­ï¼ˆSIGINT/SIGTERMï¼‰
- æ¨¡å‹é€‚é…å™¨å¢å¼ºï¼š30s è¶…æ—¶ã€5xx è‡ªåŠ¨é‡è¯• 1 æ¬¡ã€å‹å¥½é”™è¯¯æç¤ºï¼ˆ401/402/429ï¼‰
- Agent Runtime å¢åŠ ç³»ç»Ÿæç¤ºè¯æ³¨å…¥ + `maxTokens` æ§åˆ¶
- WebChat å…¨é¢å‡çº§ï¼š
  - Markdown æ¸²æŸ“ï¼ˆmarkdown-it + highlight.js CDNï¼‰
  - ä»£ç å—è¯­æ³•é«˜äº® + å¤åˆ¶æŒ‰é’®
  - åœæ­¢ç”ŸæˆæŒ‰é’®
  - æµå¼æ‰“å­—å…‰æ ‡æ•ˆæœ
  - session æŒä¹…åŒ–ï¼ˆlocalStorageï¼‰
  - token ç”¨é‡æ˜¾ç¤º

#### feat: MVP core - config, model adapter, agent runtime, WebChat (`4d2f1e9`)

æ ¸å¿ƒåŠŸèƒ½é¦–æ¬¡å®ç°ï¼Œä»éª¨æ¶åˆ°æœ€å°å¯ç”¨ã€‚

- é…ç½®ç³»ç»Ÿï¼šYAML æ–‡ä»¶ + ç¯å¢ƒå˜é‡ + Zod æ ¡éªŒ
  - 5 ä¸ªå›½äº§æ¨¡å‹ baseURL é¢„ç½®ï¼ˆdeepseek / qwen / kimi / glm / doubaoï¼‰
  - ç¯å¢ƒå˜é‡ `CRABCRUSH_<PROVIDER>_API_KEY` è‡ªåŠ¨æ³¨å…¥
- OpenAI å…¼å®¹æ¨¡å‹é€‚é…å™¨ï¼ˆ`src/models/provider.ts`ï¼‰ï¼šSSE æµå¼è§£æ
- Agent Runtimeï¼ˆ`src/agent/runtime.ts`ï¼‰ï¼šä¼šè¯ç®¡ç† + å¤šè½®ä¸Šä¸‹æ–‡
- Gateway WebSocket ç«¯ç‚¹ï¼ˆ`/ws`ï¼‰ï¼šchat æ¶ˆæ¯æ”¶å‘ + æµå¼ chunk æ¨é€
- WebChat é¦–ç‰ˆï¼ˆ`public/index.html`ï¼‰ï¼šæš—è‰²ä¸»é¢˜ã€å‘é€æ¶ˆæ¯ã€æ¥æ”¶æµå¼å›å¤
- CLI `crabcrush start` å‘½ä»¤ï¼šåŠ è½½é…ç½® â†’ åˆå§‹åŒ–æ¨¡å‹ â†’ å¯åŠ¨ Gateway
- æ–°å¢é…ç½®å’Œæ¨¡å‹æµ‹è¯•

#### feat: initial project scaffolding (`0244d52`)

é¡¹ç›®ä»é›¶å¼€å§‹æ­å»ºã€‚

- é¡¹ç›®æ–‡æ¡£ä½“ç³»ï¼šAGENTS.md / DECISIONS.md / ROADMAP.md / ARCHITECTURE.md / VISION.md
- æŠ€æœ¯é€‰å‹ï¼šTypeScript + Node.js + pnpm + Fastify v5 + Vitest
- åŸºç¡€ Gateway éª¨æ¶ï¼šFastify æœåŠ¡ + `/health` ç«¯ç‚¹
- CLI å…¥å£ï¼šCommander.js
- TypeScript strict mode é…ç½®
- GPL-3.0 License
