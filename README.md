# ğŸ¦€ CrabCrush â€” ä½ çš„ç§äºº AI åŠ©æ‰‹

**åšä½ çš„è™¾å…µèŸ¹å°† ğŸ¦€**

CrabCrush æ˜¯ä¸€ä¸ªé¢å‘ä¸­å›½ç”¨æˆ·çš„æœ¬åœ°ä¼˜å…ˆä¸ªäºº AI åŠ©æ‰‹å¹³å°ã€‚
åœ¨ä½ å·²æœ‰çš„èŠå¤©å·¥å…·ï¼ˆé’‰é’‰ã€é£ä¹¦ã€ä¼ä¸šå¾®ä¿¡ç­‰ï¼‰é‡Œç›´æ¥ä½¿ç”¨ï¼Œæ•°æ®å­˜åœ¨ä½ è‡ªå·±çš„è®¾å¤‡ä¸Šã€‚

[æ¶æ„ & éƒ¨ç½²](./docs/ARCHITECTURE.md) Â· [è·¯çº¿å›¾](./docs/ROADMAP.md) Â· [å†³ç­–è®°å½•](./docs/DECISIONS.md) Â· [æ„¿æ™¯](./docs/VISION.md) Â· [æ›´æ–°æ—¥å¿—](./CHANGELOG.md)

## å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ

CrabCrush **ä¸æ˜¯ä¸€ä¸ªåœ¨çº¿æœåŠ¡ï¼Œæ˜¯ä¸€ä¸ªè£…åœ¨ä½ è‡ªå·±ç”µè„‘ä¸Šçš„è½¯ä»¶ã€‚** é’‰é’‰/é£ä¹¦åªæ˜¯ä½ è·Ÿå®ƒäº¤äº’çš„"é¥æ§å™¨"ã€‚

**æ¯ä¸ªäººè‡ªå·±éƒ¨ç½²ã€è‡ªå·±ä½¿ç”¨ï¼š**

1. è‡ªå·±ç”³è¯·æ¨¡å‹ API Keyï¼ˆDeepSeek / é€šä¹‰åƒé—® / Kimi â€¦ï¼‰
2. è‡ªå·±åœ¨é’‰é’‰/é£ä¹¦/ä¼å¾®åˆ›å»ºä¸€ä¸ªæœºå™¨äººåº”ç”¨
3. è‡ªå·±åœ¨ç”µè„‘ä¸Šè¿è¡Œ CrabCrush
4. åœ¨èŠå¤©å·¥å…·é‡Œ @è‡ªå·±çš„æœºå™¨äºº å¼€å§‹å¯¹è¯

**è¿™æ„å‘³ç€ï¼š**

- å¯¹è¯è®°å½•ã€API Keyã€æœ¬åœ°æ–‡ä»¶å…¨åœ¨ä½ è‡ªå·±æ‰‹é‡Œï¼Œä¸ç»è¿‡ä»»ä½•ç¬¬ä¸‰æ–¹å¹³å°ç®¡ç†
- ä»¥ååŠ æœ¬åœ°å·¥å…·ï¼ˆæ–‡ä»¶æ“ä½œã€æ•°æ®åº“æŸ¥è¯¢ã€è·‘è„šæœ¬ï¼‰å¤©ç„¶å°±æ˜¯æ“ä½œä½ è‡ªå·±çš„æœºå™¨
- ä¸å­˜åœ¨"è°ä»˜ API è´¹"çš„é—®é¢˜ â€” å„ç”¨å„çš„ Key
- ç¾¤èŠå®‰å…¨ â€” æœ¬åœ°æ“ä½œä»…é™ owner è§¦å‘ï¼ˆè¯¦è§ [DEC-026](./docs/DECISIONS.md)ï¼‰

**å…³äºæ•°æ®éšç§çš„è¯šå®è¯´æ˜ï¼ˆ[DEC-028](./docs/DECISIONS.md)ï¼‰ï¼š**

"æœ¬åœ°ä¼˜å…ˆ" â‰  "æ•°æ®ä¸€ä¸ªå­—èŠ‚éƒ½ä¸å‡ºæœ¬åœ°"ã€‚ä½ çš„å¯¹è¯å†…å®¹ä¼šå‘é€åˆ°æ¨¡å‹ APIï¼ˆDeepSeek/Qwen ç­‰ï¼‰è¿›è¡Œæ¨ç†â€”â€”è¿™æ˜¯æ‰€æœ‰ä½¿ç”¨äº‘ç«¯ AI çš„äº§å“ï¼ˆChatGPTã€OpenClawã€Difyï¼‰çš„å…±åŒé™åˆ¶ã€‚åŒºåˆ«åœ¨äºï¼šCrabCrush è®©ä½ **çœ‹å¾—è§æ•°æ®æµå‘ã€æ§åˆ¶å‘ä»€ä¹ˆä¸å‘ä»€ä¹ˆ**ï¼Œè€Œä¸”æ•°æ®å­˜å‚¨å’Œå·¥å…·æ‰§è¡Œéƒ½åœ¨æœ¬åœ°ã€‚å¦‚æœéœ€è¦æ•°æ®å®Œå…¨ä¸å‡ºæœ¬åœ°ï¼Œå¯ä»¥ä½¿ç”¨æœ¬åœ°æ¨¡å‹ï¼ˆOllamaï¼‰ã€‚

## ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨ ChatGPTï¼Ÿ

| ç»´åº¦ | ç›´æ¥ç”¨ ChatGPT | CrabCrush |
|------|--------------|-----------|
| **è´¹ç”¨** | Plus Â¥140/æœˆï¼Œæˆ–æŒ‰é‡ä»˜è´¹ | DeepSeek Â¥1-5/æœˆï¼ˆä¾¿å®œ 50-100 å€ï¼‰ |
| **æ¨¡å‹é€‰æ‹©** | åªèƒ½ç”¨ OpenAI çš„æ¨¡å‹ | DeepSeekã€é€šä¹‰åƒé—®ã€Kimiâ€¦â€¦éšä¾¿æ¢ |
| **ä½¿ç”¨å…¥å£** | åªèƒ½åœ¨ç½‘é¡µ/App é‡Œç”¨ | é’‰é’‰é‡Œ @ä¸€ä¸‹å°±èƒ½ç”¨ï¼Œä¸ç”¨åˆ‡åº”ç”¨ |
| **æ•°æ®éšç§** | å¯¹è¯å­˜åœ¨ OpenAI æœåŠ¡å™¨ | å¯¹è¯åªåœ¨ä½ è‡ªå·±çš„æœºå™¨ä¸Š |
| **ç½‘ç»œ** | éœ€è¦ç¿»å¢™ï¼ˆæˆ–ç”¨å›½å†…ç‰ˆï¼‰ | å›½äº§æ¨¡å‹ç›´è¿ï¼Œæ— éœ€ç¿»å¢™ |
| **å·¥å…·èƒ½åŠ›** | åªèƒ½æ“ä½œ OpenAI çš„äº‘ç«¯æ²™ç®± | å¯ä»¥æ“ä½œ**ä½ è‡ªå·±çš„ç”µè„‘**ï¼ˆPhase 2ï¼‰ |
| **å®šåˆ¶** | æœ‰é™çš„ GPTs | å®Œå…¨è‡ªå®šä¹‰ promptã€æŠ€èƒ½ã€è¡Œä¸º |

> "æœ¬åœ°ä¼˜å…ˆ"çš„æ„æ€ä¸æ˜¯"æœ‰è®°å¿†"ï¼Œè€Œæ˜¯**æ•°æ®æµå‘å’Œæ§åˆ¶æƒ**ï¼šä½ çš„å¯¹è¯ç»è¿‡ä½ è‡ªå·±çš„æœºå™¨ï¼Œæ¨¡å‹ API åªçœ‹åˆ°å½“å‰ä¸Šä¸‹æ–‡ï¼Œä¸å­˜ä½ çš„å†å²ã€‚ChatGPT æ˜¯è¿œç¨‹å®¢æœï¼ŒCrabCrush æ˜¯ååœ¨ä½ ç”µè„‘æ—çš„åŠ©æ‰‹ã€‚

## å¿«é€Ÿå¼€å§‹

> éœ€è¦ Node.js >= 20 + pnpm

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/CrabCrush/CrabCrush.git
cd CrabCrush
pnpm install
```

> **å¯é€‰**ï¼šè‹¥è¦ç”¨ browse_urlï¼ˆæŠ“å–ç½‘é¡µï¼‰ã€search_webï¼ˆæœç´¢ï¼‰å·¥å…·ï¼Œéœ€å…ˆå®‰è£… Chromiumï¼š
> ```bash
> npx playwright install chromium
> ```
> è¿è¡Œ `crabcrush doctor` å¯æ£€æŸ¥æ˜¯å¦å·²å®‰è£…ã€‚
>
> **è¯´æ˜**ï¼šWebChat æ‰€éœ€çš„å‰ç«¯åº“ï¼ˆmarkdown-itã€highlight.jsï¼‰å·²éšä»“åº“æ”¾åœ¨ `public/vendor/`ï¼Œå…‹éš†å³ç”¨ï¼Œæ— éœ€å®‰è£…æˆ–è¿è¡Œä»»ä½•è„šæœ¬ã€‚

### 2. é…ç½®æ¨¡å‹

å¤åˆ¶ç¤ºä¾‹é…ç½®å¹¶å¡«å…¥ä½ çš„ API Keyï¼š

```bash
cp crabcrush.example.yaml crabcrush.yaml
```

ç¼–è¾‘ `crabcrush.yaml`ï¼ŒæŠŠ DeepSeek çš„ API Key æ¢æˆä½ è‡ªå·±çš„ï¼š

```yaml
models:
  deepseek:
    apiKey: sk-your-deepseek-api-key
```

> DeepSeek API Key è·å–ï¼šhttps://platform.deepseek.com/api_keys
>
> ä¹Ÿå¯ä»¥ç”¨ç¯å¢ƒå˜é‡ï¼š`export CRABCRUSH_DEEPSEEK_API_KEY=sk-xxx`

### 3. å¯åŠ¨

```bash
pnpm dev
```

> **ç«¯å£è¢«å ç”¨ï¼Ÿ** è‹¥æç¤º 18790 ç«¯å£å·²è¢«å ç”¨ï¼Œå¯å…ˆç»“æŸæ—§è¿›ç¨‹ï¼š
> - Windows: `netstat -ano | findstr :18790` æŸ¥ PIDï¼Œå† `taskkill /PID <pid> /F`
> - macOS/Linux: `lsof -i :18790` æŸ¥ PIDï¼Œå† `kill <pid>`

çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºå°±è¯´æ˜å¯åŠ¨æˆåŠŸï¼š

```
ğŸ¦€ CrabCrush Gateway å·²å¯åŠ¨
   æ¨¡å‹: DeepSeek (deepseek-chat)
   WebChat: http://127.0.0.1:18790
```

### 4. å¼€å§‹èŠå¤©

æ‰“å¼€æµè§ˆå™¨è®¿é—® **http://127.0.0.1:18790**ï¼Œå³å¯ä¸ AI å¯¹è¯ã€‚

> æƒ³æ¥å…¥é’‰é’‰ï¼ŸæŸ¥çœ‹ [é’‰é’‰æœºå™¨äººæ¥å…¥æŒ‡å—](./guide/dingtalk-setup.md)ï¼ˆStream æ¨¡å¼ï¼Œä¸éœ€è¦å…¬ç½‘ IPï¼‰

### å¸¸ç”¨å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `pnpm dev` | å¯åŠ¨æœåŠ¡ï¼ˆå¼€å‘æ¨¡å¼ï¼Œçƒ­é‡è½½ï¼‰ |
| `pnpm start` | å¯åŠ¨æœåŠ¡ï¼ˆéœ€å…ˆ `pnpm build`ï¼‰ |
| `pnpm doctor` | è‡ªæ£€è¯Šæ–­ï¼ˆNodeã€é…ç½®ã€APIã€Playwright ç­‰ï¼‰ |
| `pnpm onboard` | å‘å¯¼å¼åˆ›å»ºé…ç½® |

---

## æ”¯æŒçš„æ¨¡å‹

é€šè¿‡ OpenAI å…¼å®¹é€‚é…å™¨ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å³å¯ä½¿ç”¨ï¼Œæ— éœ€æ”¹ä»£ç ï¼š

| æ¨¡å‹ | é…ç½® ID | çŠ¶æ€ |
|------|---------|------|
| DeepSeek-V3 / R1 | `deepseek` | âœ… å·²æ”¯æŒ |
| é€šä¹‰åƒé—® | `qwen` | âœ… å·²æ”¯æŒ |
| Kimi (Moonshot) | `kimi` | âœ… å·²æ”¯æŒ |
| æ™ºè°± GLM | `glm` | âœ… å·²æ”¯æŒ |
| è±†åŒ… | `doubao` | âœ… å·²æ”¯æŒ |

å·²çŸ¥æä¾›å•†çš„ baseURL è‡ªåŠ¨è¡¥å…¨ï¼Œåªéœ€å¡« apiKeyï¼š

```yaml
models:
  deepseek:
    apiKey: sk-xxx
  qwen:
    apiKey: sk-xxx
    defaultModel: qwen-max
```

## æ”¯æŒçš„æ¸ é“

| æ¸ é“ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| WebChat | âœ… å·²å®ç° | æµè§ˆå™¨èŠå¤©ï¼ŒMarkdown æ¸²æŸ“ + ä»£ç é«˜äº® |
| é’‰é’‰ | âœ… å·²å®ç° | Stream æ¨¡å¼ï¼Œä¸éœ€è¦å…¬ç½‘ IP |
| é£ä¹¦ | ğŸ”œ è§„åˆ’ä¸­ | Phase 2 |
| ä¼ä¸šå¾®ä¿¡ | ğŸ”œ è§„åˆ’ä¸­ | Phase 2 |

## é¡¹ç›®ç»“æ„

```
crabcrush/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts              # CLI å…¥å£
â”‚   â”œâ”€â”€ config/               # é…ç½®åŠ è½½ (YAML + env + Zod)
â”‚   â”œâ”€â”€ models/               # æ¨¡å‹é€‚é…å™¨ (OpenAI å…¼å®¹)
â”‚   â”œâ”€â”€ agent/                # Agent è¿è¡Œæ—¶ (ä¼šè¯ + å¤šè½®å¯¹è¯)
â”‚   â”œâ”€â”€ channels/             # æ¸ é“é€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ types.ts          # ChannelAdapter æ¥å£
â”‚   â”‚   â””â”€â”€ dingtalk.ts       # é’‰é’‰ Stream
â”‚   â””â”€â”€ gateway/              # Fastify æœåŠ¡ (HTTP + WebSocket)
â”œâ”€â”€ public/                   # WebChat å‰ç«¯
â”œâ”€â”€ test/                     # æµ‹è¯•
â”œâ”€â”€ docs/                     # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ crabcrush.example.yaml    # é…ç½®ç¤ºä¾‹
â””â”€â”€ crabcrush.yaml            # ä½ çš„é…ç½®ï¼ˆä¸å…¥ gitï¼‰
```

## ç»™å¼€å‘è€…å’Œ AI åŠ©æ‰‹

æœ¬é¡¹ç›®é‡‡ç”¨"æ–‡æ¡£å³å¤§è„‘"çš„åä½œæ¨¡å¼ã€‚å‚ä¸å¼€å‘æˆ–è®© AI ååŠ©æ—¶ï¼Œè¯·å…ˆé˜…è¯»ä»¥ä¸‹ä¸¤ä»½æ–‡æ¡£ï¼š

1. [`AGENTS.md`](./AGENTS.md) â€” é¡¹ç›®å…¨è²Œ + å½“å‰è¿›åº¦
2. [`docs/DECISIONS.md`](./docs/DECISIONS.md) â€” å…³é”®å†³ç­–çš„èƒŒæ™¯å’Œç†ç”±

## çµæ„Ÿæ¥æº

å— [OpenClaw](https://github.com/openclaw/openclaw) å¯å‘ã€‚
ğŸ¦ OpenClaw = é¾™è™¾ â†’ ğŸ¦€ CrabCrush = èƒèŸ¹ â€”â€” åŒå±ç”²å£³çº²ï¼Œåšä½ çš„è™¾å…µèŸ¹å°†ï¼

## è®¸å¯è¯

[GPL-3.0 License](./LICENSE)

---

> *AI build by AI â€” ä½ æ”¾å¿ƒï¼Œæˆ‘ç»ä¸æ‰‹å†™ä¸€è¡Œä»£ç ï¼*
